@prefix : <#> .
@prefix np: <http://www.nanopub.org/nschema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix oa: <http://www.w3.org/ns/oa#> .
@prefix cnt: <http://www.w3.org/2011/content#> .
@prefix dc: <http://purl.org/dc/terms/> .
@prefix dctypes: <http://purl.org/dc/dcmitype/> .
@prefix prov: <http://www.w3.org/ns/prov#> .

<> {
    <> a np:Nanopublication ;
        np:hasAssertion :assertion ;
        np:hasProvenance :provenance ;
        np:hasPublicationInfo :publicationInfo .
}

:assertion {
    <{{subject}}> <{{newPredicate}}> <{{object}}> .
# have the narrative as assertion as well? or a reference to the assertion?
}

# does not work, get response: Expected '{', found 'p' [line 23]
#:assertion prov:wasDerivedFrom :annotation .

:provenance {
    :annotation a oa:Annotation ;
        oa:annotatedBy <{{orcid}}> ;
        oa:motivatedBy oa:editing ;
#       something timestamp
        oa:hasBody :cbody ;
        oa:hasTarget :trgt .

    :cbody a oa:Composite ;
        oa:item :body1, :body2 .

    :body1 a rdf:Statement ;
        rdf:subject <{{subjectUri}}> ;
        rdf:predicate <{{newPredicateUri}}> ;
        rdf:object <{{objectUri}}> .

    <{{subjectUri}}> rdfs:label "{{subject}}" .
    <{{newPredicateUri}}> rdfs:label "{{newPredicate}}" .
    <{{objectUri}}> rdfs:label "{{object}}" .

    :body2 a dctypes:Text, cnt:ContentAsText ;
        dc:format "text/plain" ;
        cnt:chars """{{narrative}}""" .

    :trgt a rdf:Statement ;
#       oa:hasSource <{{source?}}> ;
        rdf:subject <{{subjectUri}}> ;
        rdf:predicate <{{predicateUri}}> ;
        rdf:object <{{objectUri}}> .

    <{{predicateUri}}> rdfs:label "{{predicate}}" .
}

:publicationInfo {
# todo add info here
}